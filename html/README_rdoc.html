<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
	"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">

<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
	<meta content="text/html; charset=utf-8" http-equiv="Content-Type" />

	<title>File: README.rdoc [Nice-Enum 0.1.0 Documentation]</title>

	<link type="text/css" media="screen" href="./rdoc.css" rel="stylesheet" />

	<script src="./js/jquery.js" type="text/javascript"
		charset="utf-8"></script>
	<script src="./js/thickbox-compressed.js" type="text/javascript"
		charset="utf-8"></script>
	<script src="./js/quicksearch.js" type="text/javascript"
		charset="utf-8"></script>
	<script src="./js/darkfish.js" type="text/javascript"
		charset="utf-8"></script>
</head>

<body class="file">
	<div id="metadata">
		<div id="home-metadata">
			<div id="home-section" class="section">
        <h3 class="section-header">
          <a href="./index.html">Home</a>
          <a href="./index.html#classes">Classes</a>
          <a href="./index.html#methods">Methods</a>
        </h3>
			</div>
		</div>

		<div id="project-metadata">
			
			
			<div id="fileindex-section" class="section project-section">
				<h3 class="section-header">Files</h3>
				<ul>
				
					<li class="file"><a href="./README_rdoc.html">README.rdoc</a></li>
				
				</ul>
			</div>
			

			<div id="classindex-section" class="section project-section">
				<h3 class="section-header">Class Index
					<span class="search-toggle"><img src="./images/find.png"
						height="16" width="16" alt="[+]"
						title="show/hide quicksearch" /></span></h3>
				<form action="#" method="get" accept-charset="utf-8" class="initially-hidden">
				<fieldset>
					<legend>Quicksearch</legend>
					<input type="text" name="quicksearch" value=""
						class="quicksearch-field" />
				</fieldset>
				</form>

				<ul class="link-list">
				
					<li><a href="./Enum.html">Enum</a></li>
				
					<li><a href="./Flags.html">Flags</a></li>
				
				</ul>
				<div id="no-class-search-results" style="display: none;">No matching classes.</div>
			</div>

			
		</div>
	</div>

	<div id="documentation">
		<h1>Nice Enumerations for Ruby</h1>
<p>
Ruby&#8217;s built-in enumeration support, or the lack thereof, is
somewhere in the C/C++-Age. An enum in Ruby is usually a class or module
with various constants set to some values. Attempting to display the enum
variables will result in their values being displayed, which have no use to
the end user of the application.
</p>
<pre>
        module Permissions
                Read = 4
                Write = 2
                Execute = 1
        end
        
        permissions = Permissions::Read | Permissions::Write
        puts permissions
        # Will output &quot;6&quot; - Altough correct, it won't make any sense for a
        # computer-illiterate user.
</pre>
<p>
Nice-<a href="Enum.html">Enum</a> solves this problem by encapsulating the
enum values inside an instance of their enclosing class and making the to_s
method return the name of the constant. The above code translates to
</p>
<pre>
        class Permissions &lt; Flags
                enum :Read,    4
                enum :Write,   2
                enum :Execute, 1
        end
        
        permissions = Permissions::Read | Permissions::Write
        puts permissions.join(&quot; and &quot;)
        # Will output &quot;Write and Read&quot;.
</pre>
<p>
Nice-<a href="Enum.html">Enum</a> contains two classes: <a
href="Enum.html">Enum</a> and <a href="Flags.html">Flags</a>. Instances of
Flag will automatically figure out it&#8217;s components when or&#8217;d
together and provides a different to_s method. Otherwise the classes are
functionally identical.
</p>
<p>
Of course, an enum can use anything as it&#8217;s value type, not only
integers. The value type must only provide a <=> operator.
</p>
<h1>Installation</h1>
<p>
Using Rubygems:
</p>
<pre>
        gem install nice-enum
</pre>
<p>
Manually:
</p>
<pre>
        git clone git://github.com/raphaelr/nice-enum
        cd nice-enum
        rake install
</pre>
<h2>Usage</h2>
<pre>
        require &quot;nice_enum&quot;
</pre>
<h1>Features</h1>
<h2>From Enums to Fixnums and back</h2>
<p>
Getting the underlying value from an enum instance is usually not
neccessary because the Enumeration class will hand method calls
automatically down to the underlying value:
</p>
<pre>
        puts Permissions::Execute.next  # =&gt; 2; Will call 1.next
</pre>
<p>
You can explicitly ask for the underlying value:
</p>
<pre>
        puts Permissions::Execute.value # =&gt; 1
</pre>
<p>
The reverse has to be done explicitly, but it&#8217;s very easy:
</p>
<pre>
        puts Permissions.new(1)         # =&gt; Execute
        puts Permissions.new(3)         # =&gt; Execute | Write
        puts Permissions.new(80)        # =&gt; 80
</pre>
<p>
In the last example, the Permission instance is treated as a Permission
with the name &#8220;80&#8221; and the value 80.
</p>
<h2>Auto-Values</h2>
<p>
Like in most languages with enum support, you don&#8217;t have to
explicitly provide values for enumerations. Nice-<a
href="Enum.html">Enum</a> will create sequential Fixnums if you don&#8217;t
specify them.
</p>
<pre>
        class Suit &lt; Enum
                enum :Spades    # Will become 0
                enum :Hearts    # Will become 1
                enum :Diamonds  # Will become 2
                enum :Clubs     # Will become 3
        end
</pre>
<p>
You can also mix explicit and implicit values together:
</p>
<pre>
        class Numbers &lt; Enum
                enum :Zero
                enum :One
                enum :FourtyEight, 48
                enum :FourtyNine
        end
</pre>
<p>
Note that eventual gaps aren&#8217;t filled.
</p>
<h2>Iterating over values</h2>
<pre>
        Suit.each { |suit| puts suit }
        # Outputs: Spades
        #          Hearts
        #          Diamonds
        #          Clubs
</pre>
<p>
The <a href="Enum.html">Enum</a> class also includes the Enumerable module
so you can do stuff like:
</p>
<pre>
        Suit.map { |suit| suit.name.chop }.each { |suit| puts suit }
        # Outputs: Spade
        #          Heart
        #          Diamond
        #          Club
</pre>
<h2>Attributes</h2>
<p>
If that&#8217;s not nice enough for you, maybe this is: You can attach any
number of attributes to enumerations. For example:
</p>
<pre>
        class Number &lt; Enum
                enum :Zero, 0, :squared =&gt; 0
                enum :One, 1, :note =&gt; &quot;Average number of eyes per eyehole&quot;, :squared =&gt; 1
                enum :Five, 5, :note =&gt; &quot;Number of digits per hand&quot;, :squared =&gt; 25
        end
        
        Number.each do |enum|
                puts &quot;#{enum} is squared #{enum.squared} and is special because it is the #{enum.note}.&quot;
        end
        # Outputs: Zero is squared 0 and is special because it is the nil.
        #          One is squared 1 and is special because it is the Average number of eyes per eyehole.
        #          Five is squared 25 and is special because it is the Number of digits per hand.
</pre>
<p>
You can also provide default values for attributes:
</p>
<pre>
        class Number &lt; Enum
                default :note =&gt; &quot;number which is the same if multiplied with one&quot;
                # ...
        end
        # Outputs: Zero is squared 0 and is special because it is the number which is the same if multiplied with one.
        #          One is squared 1 and is special because it is the Average number of eyes per eyehole.
        #          Five is squared 25 and is special because it is the Number of digits per hand.
</pre>
<h2>Instance methods</h2>
<p>
Since enum values are instances of their enclosing class, you can add
methods to them:
</p>
<pre>
        class Number &lt; Enum
                enum :Zero, 0
                enum :One, 1
                enum :Two, 2
                
                def square
                        value ** 2
                end
        end
        
        numbers = Number.to_a
        numbers &lt;&lt; Number.new(3)
        
        numbers.each { |number| puts &quot;#{number} squared is #{number.square}.&quot; }
        # Outputs: Zero squared is 0.
        #          One squared is 1.
        #          Two squared is 4.
        #          3 squared is 9.
</pre>
<h1>License</h1>
<p>
Copyright &#169; 2010, Raphael Robatsch All rights reserved.
</p>
<p>
Redistribution and use in source and binary forms, with or without
modification, are permitted provided that the following conditions are met:
</p>
<ul>
<li><p>
Redistributions of source code must retain the above copyright notice, this
list of conditions and the following disclaimer.
</p>
</li>
<li><p>
Redistributions in binary form must reproduce the above copyright notice,
this list of conditions and the following disclaimer in the documentation
and/or other materials provided with the distribution.
</p>
</li>
<li><p>
The names of the developers or contributors must not be used to endorse or
promote products derived from this software without specific prior written
permission.
</p>
</li>
</ul>
<p>
THIS SOFTWARE IS PROVIDED BY THE DEVELOPERS AND CONTRIBUTORS &#8220;AS
IS&#8221; AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED
TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE DEVELOPERS OR CONTRIBUTORS BE
LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR
CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF
SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS
INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN
CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)
ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
POSSIBILITY OF SUCH DAMAGE.
</p>

	</div>

	<div id="validator-badges">
		<p><small><a href="http://validator.w3.org/check/referer">[Validate]</a></small></p>
		<p><small>Generated with the <a href="http://deveiate.org/projects/Darkfish-Rdoc/">Darkfish
			Rdoc Generator</a> 1.1.6</small>.</p>
	</div>
</body>
</html>

